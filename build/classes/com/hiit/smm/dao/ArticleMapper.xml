<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper  namespace="com.hiit.smm.dao.ArticleMapper">
<select id="getSlidingArticles" parameterType="String" resultType="article">
select * from news where date=#{date} and position in(1,5) order by position desc,id desc limit 0,6
</select>

<select id="getRecArticles" parameterType="String" resultType="article">
select * from news where date=#{date} and position in(2,6) order by position desc,id desc limit 0,3
</select>

<select id="getLatestArticles" parameterType="String" resultType="article">
select * from news where date=#{date} and position in(3,7) order by position desc,id desc limit 0,2
</select>


<select id="getShortArticles" parameterType="String" resultType="article">
select * from news where date=#{date} and position in(4,8) order by position desc,id desc limit 0,10
</select>

<select id="getArticle" parameterType="int" resultType="article">
select * from news where id=#{id}
</select>

<insert id="addArticle"  parameterType="article">
    insert into
    news(profile, title, summary, content, position, date,author) 
    values('#{article.profile}', '#{article.title}', '#{article.summary}',
     '#{article.content}', #{article.position}, '#{article.date}', '#{article.author}')
</insert>

<update id="updateArticle"  parameterType="article">
update news set profile=#{article.profile}, title=#{article.profile}, 
summary=#{article.summary}, content=#{article.article}, position=#{article.position},
 date=#{article.date} ,author=#{article.author}  where id = #{article.id}
</update>

<delete id="delectArticle"  parameterType="int" >
delete from news where id=#{id}
</delete>
<select id="getLatestDate" resultType="String">
select max(date) from news 
</select>


</mapper>

